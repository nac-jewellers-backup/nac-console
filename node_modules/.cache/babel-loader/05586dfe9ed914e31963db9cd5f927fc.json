{"ast":null,"code":"import _objectSpread from \"/home/manikandan/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/manikandan/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/manikandan/Downloads/Archive/src/screens/Productupload/Component.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport AddressForm from './AddressForm';\nimport PaymentForm from './PaymentForm';\nimport Review from './Review';\nimport { Grid } from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Step4 from './Step4';\nimport Step5 from './Step5';\nimport Step6 from './Step6';\nimport Step7 from './Step7';\nimport Step8 from './Step8';\nimport { ProductContext } from '../../context';\nimport { NetworkContext } from '../../context/NetworkContext';\nimport { element } from 'prop-types';\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  layout: {\n    width: 'auto',\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n      width: 600,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3)\n    },\n    background: \"#fff\"\n  },\n  stepper: {\n    padding: theme.spacing(1, 0, 1),\n    background: \"#fff\"\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nfunction getStepContent(step) {\n  switch (step) {\n    case \"Step1\":\n      return React.createElement(AddressForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n\n    case \"Step2\":\n      return React.createElement(PaymentForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n\n    case \"Step3\":\n      return React.createElement(Review, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n\n    case \"Step4\":\n      return React.createElement(Step5, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n\n    case \"Step5\":\n      return React.createElement(Step4, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n\n    case \"Step6\":\n      return React.createElement(Step6, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n\n    case \"Step7\":\n      return React.createElement(Step7, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      });\n\n    default:\n      throw new Error('Unknown step');\n  }\n}\n\nexport default function Productupload() {\n  const classes = useStyles();\n\n  const _React$useState = React.useState(0),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        activeStep = _React$useState2[0],\n        setActiveStep = _React$useState2[1];\n\n  const _React$useContext = React.useContext(ProductContext),\n        productCtx = _React$useContext.productCtx,\n        setProductCtx = _React$useContext.setProductCtx;\n\n  const _React$useContext2 = React.useContext(NetworkContext),\n        sendNetworkRequest = _React$useContext2.sendNetworkRequest;\n\n  const handleNext = () => {\n    var isvalid = true;\n    var error_content = {}; // if(productCtx.error_message)\n    // {\n    //   error_content = productCtx.error_message\n    // }\n\n    if (activeStep === 0) {\n      if (!productCtx.product_type) {\n        isvalid = false;\n        error_content['product_type'] = \"Error messsage\";\n      }\n\n      if (!productCtx.productname) {\n        isvalid = false;\n        error_content['productname'] = \"Error messsage\";\n      }\n\n      if (!productCtx.product_categoy) {\n        isvalid = false;\n        error_content['product_categoy'] = \"Error messsage\";\n      }\n\n      if (!productCtx.metalcolour) {\n        isvalid = false;\n        error_content['metalcolour'] = \"Error messsage\";\n      }\n\n      if (!productCtx.material_names) {\n        isvalid = false;\n        error_content['material_names'] = \"Error messsage\";\n      }\n\n      if (!productCtx.metalpurity || productCtx.metalpurity.length === 0) {\n        isvalid = false;\n        error_content['metalpurity'] = \"Error messsage\";\n      }\n\n      if (!productCtx.metalcolour || productCtx.metalcolour.length === 0) {\n        isvalid = false;\n        error_content['metalcolour'] = \"Error messsage\";\n      }\n\n      if (!productCtx.vendorcode) {\n        isvalid = false;\n        error_content['vendorcode'] = \"Error messsage\";\n      }\n\n      if (!productCtx.vendorleadtime) {\n        isvalid = false;\n        error_content['vendorleadtime'] = \"Error messsage\";\n      }\n\n      if (!productCtx.default_metal_colour) {\n        isvalid = false;\n        error_content['default_metal_colour'] = \"Error messsage\";\n      }\n\n      if (!productCtx.default_metal_purity) {\n        isvalid = false;\n        error_content['default_metal_purity'] = \"Error messsage\";\n      }\n\n      if (!productCtx.productvendorcode) {\n        isvalid = false;\n        error_content['productvendorcode'] = \"Error messsage\";\n      }\n\n      if (!productCtx.earringbacking && productCtx.product_type.alias === 'Earrings') {\n        isvalid = false;\n        error_content['earringbacking'] = \"Error messsage\";\n      }\n\n      if (!productCtx.selectedgender) {\n        isvalid = false;\n        error_content['selectedgender'] = \"Error messsage\";\n      }\n\n      if ((!productCtx.selected_sizes || productCtx.selected_sizes.length === 0) && productCtx.product_type === 'Rings') {\n        isvalid = false;\n        error_content['selected_sizes'] = \"Error messsage\";\n      }\n\n      if ((!productCtx.default_size || productCtx.default_size.length === 0) && productCtx.product_type === 'Rings') {\n        isvalid = false;\n        error_content['default_size'] = \"Error messsage\";\n      } // isvalid = true;\n\n    }\n\n    if (activeStep === 1) {\n      productCtx.metalpurity.forEach(element => {\n        const keyvalue = element.name + '_metal_weight';\n\n        if (!productCtx[keyvalue] || productCtx[keyvalue].length === 0) {\n          isvalid = false;\n          error_content[keyvalue] = \"Error messsage\";\n        }\n      });\n\n      if (!productCtx.themes || productCtx.themes.length === 0) {\n        isvalid = false;\n        error_content['themes'] = \"Error messsage\";\n      }\n\n      if (!productCtx.metal_height) {\n        isvalid = false;\n        error_content['metal_height'] = \"Error messsage\";\n      }\n\n      if (!productCtx.metal_width) {\n        isvalid = false;\n        error_content['metal_width'] = \"Error messsage\";\n      }\n\n      if (!productCtx.prod_styles || productCtx.prod_styles.length === 0) {\n        isvalid = false;\n        error_content['prod_styles'] = \"Error messsage\";\n      }\n\n      if (!productCtx.occassions || productCtx.occassions.length === 0) {\n        isvalid = false;\n        error_content['occassions'] = \"Error messsage\";\n      }\n\n      if (!productCtx.collections || productCtx.collections.length === 0) {\n        isvalid = false;\n        error_content['collections'] = \"Error messsage\";\n      } //  isvalid = true;\n\n    }\n\n    setProductCtx(_objectSpread({}, productCtx, {\n      error_message: error_content\n    }));\n\n    if (activeStep === productCtx.steps.length - 1) {\n      console.info('HANDLE', sendNetworkRequest);\n      const productseries = productCtx.masterData.productseries[0].productSeries;\n      delete productCtx['masterData'];\n      var formdata = productCtx;\n      formdata['productseries'] = productseries;\n      console.log(\"><><><><><\");\n      console.log(JSON.stringify(formdata));\n      sendNetworkRequest('/productupload', {}, formdata);\n    } else {\n      if (isvalid) {\n        setActiveStep(activeStep + 1);\n      }\n    } //else\n    //  {\n    //  }\n\n  };\n\n  const handleBack = () => {\n    setActiveStep(activeStep - 1);\n  };\n\n  return React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(Stepper, {\n    activeStep: activeStep,\n    className: classes.stepper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, productCtx.steps.map((label, index) => React.createElement(Step, {\n    key: label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(StepLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }))))), React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, activeStep === productCtx.steps.length ? React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, \"Product Added Successfully\"), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  })) : React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, getStepContent(productCtx.steps[activeStep]), React.createElement(\"div\", {\n    className: classes.buttons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, activeStep !== 0 && React.createElement(Button, {\n    onClick: handleBack,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, \"Back\"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333\n    },\n    __self: this\n  }, activeStep === productCtx.steps.length - 1 ? 'Save Product' : 'Next')))));\n}","map":{"version":3,"sources":["/home/manikandan/Downloads/Archive/src/screens/Productupload/Component.js"],"names":["React","makeStyles","Paper","Stepper","Step","StepLabel","Button","Typography","AddressForm","PaymentForm","Review","Grid","Collapse","ListItem","ListItemIcon","ListItemText","List","StarBorder","ListSubheader","Step4","Step5","Step6","Step7","Step8","ProductContext","NetworkContext","element","useStyles","theme","appBar","position","layout","width","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","marginBottom","padding","background","stepper","buttons","display","justifyContent","nested","paddingLeft","button","getStepContent","step","Error","Productupload","classes","useState","activeStep","setActiveStep","useContext","productCtx","setProductCtx","sendNetworkRequest","handleNext","isvalid","error_content","product_type","productname","product_categoy","metalcolour","material_names","metalpurity","length","vendorcode","vendorleadtime","default_metal_colour","default_metal_purity","productvendorcode","earringbacking","alias","selectedgender","selected_sizes","default_size","forEach","keyvalue","name","themes","metal_height","metal_width","prod_styles","occassions","collections","error_message","steps","console","info","productseries","masterData","productSeries","formdata","log","JSON","stringify","handleBack","map","label","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport AddressForm from './AddressForm';\nimport PaymentForm from './PaymentForm';\nimport Review from './Review';\nimport { Grid } from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport ListSubheader from '@material-ui/core/ListSubheader';\n\nimport Step4 from './Step4';\nimport Step5 from './Step5';\nimport Step6 from './Step6';\nimport Step7 from './Step7';\nimport Step8 from './Step8';\n\nimport { ProductContext } from '../../context';\nimport { NetworkContext } from '../../context/NetworkContext';\nimport { element } from 'prop-types';\n\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative',\n  },\n  layout: {\n    width: 'auto',\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n      width: 600,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3),\n    },\n    background: \"#fff\"\n  },\n  stepper: {\n    padding: theme.spacing(1, 0, 1),\n    background: \"#fff\"\n\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\n\nfunction getStepContent(step) {\n  switch (step) {\n    case \"Step1\":\n      return <AddressForm />;\n    \n    case \"Step2\":\n      return  <PaymentForm />;\n      \n    case \"Step3\":\n      return <Review />;\n    case \"Step4\":\n      return <Step5 />;\n    case \"Step5\":\n      return <Step4 />;  \n    case \"Step6\":\n      return <Step6 />;\n\n    case \"Step7\":\n      return <Step7 />;    \n    default:\n      throw new Error('Unknown step');\n  }\n}\n\nexport default function Productupload() {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const { productCtx,setProductCtx} = React.useContext(ProductContext);\n  const { sendNetworkRequest } = React.useContext(NetworkContext);\n\n  const handleNext = () => {\n    var isvalid = true;\n    var  error_content = {}\n    // if(productCtx.error_message)\n    // {\n    //   error_content = productCtx.error_message\n\n    // }\n\n    if(activeStep === 0)\n    {\n    if(!productCtx.product_type)\n    {\n      isvalid = false\n      error_content['product_type'] = \"Error messsage\";\n     \n    }\n    if(!productCtx.productname)\n    {\n      isvalid = false\n      error_content['productname'] = \"Error messsage\" \n    }\n    if(!productCtx.product_categoy)\n    {\n      isvalid = false\n      error_content['product_categoy'] = \"Error messsage\" \n    }\n\n    if(!productCtx.metalcolour)\n    {\n      isvalid = false\n      error_content['metalcolour'] = \"Error messsage\" \n    }\n    if(!productCtx.material_names)\n    {\n      isvalid = false\n      error_content['material_names'] = \"Error messsage\" \n    }\n    if(!productCtx.metalpurity || productCtx.metalpurity.length === 0)\n    {\n      isvalid = false\n\n      error_content['metalpurity'] = \"Error messsage\" \n    }\n    if(!productCtx.metalcolour || productCtx.metalcolour.length === 0)\n    {\n      isvalid = false\n\n      error_content['metalcolour'] = \"Error messsage\" \n    }\n    \n    if(!productCtx.vendorcode)\n    {\n      isvalid = false\n      error_content['vendorcode'] = \"Error messsage\" \n    }\n    if(!productCtx.vendorleadtime)\n    {\n      isvalid = false\n      error_content['vendorleadtime'] = \"Error messsage\" \n    }\n\n    if(!productCtx.default_metal_colour)\n    {\n      isvalid = false\n      error_content['default_metal_colour'] = \"Error messsage\" \n    }\n    if(!productCtx.default_metal_purity)\n    {\n      isvalid = false\n      error_content['default_metal_purity'] = \"Error messsage\" \n    }\n    if(!productCtx.productvendorcode)\n    {\n      isvalid = false\n      error_content['productvendorcode'] = \"Error messsage\" \n    }\n    if(!productCtx.earringbacking && productCtx.product_type.alias === 'Earrings' )\n    {\n      isvalid = false\n      error_content['earringbacking'] = \"Error messsage\" \n    }\n    if(!productCtx.selectedgender)\n    {\n      isvalid = false\n      error_content['selectedgender'] = \"Error messsage\" \n    }\n    if((!productCtx.selected_sizes || productCtx.selected_sizes.length === 0 )  && productCtx.product_type === 'Rings')\n    {\n\n      isvalid = false\n      error_content['selected_sizes'] = \"Error messsage\" \n    }\n\n    if((!productCtx.default_size || productCtx.default_size.length === 0 )  && productCtx.product_type === 'Rings')\n    {\n\n      isvalid = false\n      error_content['default_size'] = \"Error messsage\" \n    }\n   // isvalid = true;\n  }\n\n  if(activeStep === 1)\n  {\n    productCtx.metalpurity.forEach( element => {\n      const keyvalue = (element.name)+'_metal_weight'\n\n      if((!productCtx[keyvalue] || productCtx[keyvalue].length === 0 ))\n    {\n      isvalid = false\n\n      error_content[keyvalue] = \"Error messsage\" \n\n    }\n    \n    })\n    if((!productCtx.themes || productCtx.themes.length === 0 ))\n    {\n      isvalid = false\n      error_content['themes'] = \"Error messsage\" \n    }\n    if(!productCtx.metal_height)\n    {\n      isvalid = false\n      error_content['metal_height'] = \"Error messsage\" \n    }\n    if(!productCtx.metal_width)\n    {\n      isvalid = false\n      error_content['metal_width'] = \"Error messsage\" \n    }\n    if((!productCtx.prod_styles || productCtx.prod_styles.length === 0 ))\n    {\n      isvalid = false\n      error_content['prod_styles'] = \"Error messsage\" \n    }\n    if((!productCtx.occassions || productCtx.occassions.length === 0 ))\n    {\n      isvalid = false\n      error_content['occassions'] = \"Error messsage\" \n    }\n    if((!productCtx.collections || productCtx.collections.length === 0 ))\n    {\n      isvalid = false\n      error_content['collections'] = \"Error messsage\" \n    }\n\n  //  isvalid = true;\n\n\n  }\n    \n\n\n    setProductCtx({...productCtx,error_message:error_content})\n     if(activeStep === productCtx.steps.length - 1){\n      console.info('HANDLE',sendNetworkRequest);\n     const productseries = productCtx.masterData.productseries[0].productSeries\n\n      delete productCtx['masterData'];\n\n      var formdata = productCtx\n      formdata['productseries'] = productseries\n     console.log(\"><><><><><\")\n     console.log(JSON.stringify(formdata))\n      sendNetworkRequest('/productupload', {}, formdata)\n     }else{\n       if(isvalid)\n       {\n        setActiveStep(activeStep + 1);\n  \n      \n        }\n     }\n    \n\n\n\n\n\n    \n      //else\n    //  {\n    //  }\n\n  };\n\n  const handleBack = () => { \n    setActiveStep(activeStep - 1);\n  };\n\n  return (\n    \n    <Grid item xs={12} sm={12}  >\n\n        <Paper className={classes.paper}>\n          <Stepper activeStep={activeStep} className={classes.stepper}>\n            {productCtx.steps.map((label, index) => (\n              <Step key={label}>\n                <StepLabel></StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          </Paper>\n\n    \n          <React.Fragment>\n            {activeStep === productCtx.steps.length ? (\n              <React.Fragment>\n                <Typography variant=\"h5\" gutterBottom>\n                  Product Added Successfully\n                  </Typography>\n                <Typography variant=\"subtitle1\">\n                  \n                </Typography>\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                {getStepContent(productCtx.steps[activeStep])}\n                <div className={classes.buttons}>\n                  {activeStep !== 0 && (\n                    <Button onClick={handleBack} className={classes.button}>\n                      Back\n                    </Button>\n                  )}\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className={classes.button}\n                  >\n                    {activeStep === productCtx.steps.length - 1 ? 'Save Product' : 'Next'}\n                  </Button>\n                </div>\n              </React.Fragment>\n            )}\n          </React.Fragment>\n        </Grid>\n  );\n}"]},"metadata":{},"sourceType":"module"}